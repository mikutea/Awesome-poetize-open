# 通用居中对话框样式使用说明

## 📍 文件位置

**全局CSS文件**：`poetize-ui/src/assets/css/centered-dialog.css`

**已在 main.js 中自动导入**，无需手动引入。

---

## ✨ 功能特性

1. ✅ 对话框垂直水平完美居中
2. ✅ 对话框内部滚动（而非整个页面滚动）
3. ✅ Header和Footer固定不滚动
4. ✅ 自动适应不同高度的内容
5. ✅ 美观的自定义滚动条
6. ✅ 支持暗色模式
7. ✅ 响应式设计，移动端自适应

---

## 🚀 使用方法

### 基础用法

在任意 `el-dialog` 组件上添加 `custom-class="centered-dialog"` 即可：

```vue
<template>
  <el-dialog 
    :visible.sync="dialogVisible" 
    width="70%" 
    custom-class="centered-dialog">
    <div slot="title">对话框标题</div>
    <div>
      <!-- 对话框内容，可以很长 -->
      <!-- 超出屏幕高度时会在内部滚动 -->
    </div>
    <div slot="footer">
      <el-button @click="dialogVisible = false">取消</el-button>
      <el-button type="primary" @click="handleConfirm">确定</el-button>
    </div>
  </el-dialog>
</template>

<script>
export default {
  data() {
    return {
      dialogVisible: false
    }
  },
  methods: {
    handleConfirm() {
      // 处理确认逻辑
      this.dialogVisible = false
    }
  }
}
</script>
```

### 自定义标题样式

使用 `slot="title"` 自定义标题区域：

```vue
<el-dialog 
  :visible.sync="dialogVisible" 
  width="70%" 
  custom-class="centered-dialog">
  <div slot="title" class="dialog-title-custom">
    <span class="title-text">自定义标题</span>
    <div style="display: flex; gap: 8px; align-items: center;">
      <el-tag size="small" type="success" effect="plain">
        <i class="el-icon-check"></i>
        状态标签
      </el-tag>
      <el-tag size="small" type="info" effect="plain">
        附加信息
      </el-tag>
    </div>
  </div>
  <!-- 对话框内容 -->
</el-dialog>
```

---

## 🎯 项目中的实际应用示例

### 示例1：测试翻译对话框

```vue
<el-dialog 
  :visible.sync="testTranslationDialogVisible" 
  width="65%" 
  custom-class="test-dialog">
  <div slot="title" class="dialog-title-custom">
    <span class="title-text">测试翻译</span>
    <div style="display: flex; gap: 8px; align-items: center;">
      <el-tag size="small" type="info" effect="plain">
        中文 → English
      </el-tag>
      <el-tag size="small" type="success" effect="plain">
        <i class="el-icon-data-analysis"></i>
        TOON格式优化
      </el-tag>
    </div>
  </div>
  <!-- 内容 -->
</el-dialog>
```

### 示例2：摘要测试对话框

```vue
<el-dialog 
  :visible.sync="testSummaryDialogVisible" 
  width="70%" 
  custom-class="centered-dialog">
  <div slot="title" class="dialog-title-custom">
    <span class="title-text">测试摘要</span>
    <div style="display: flex; gap: 8px; align-items: center;">
      <el-tag size="small" type="info" effect="plain">简洁明了</el-tag>
      <el-tag size="small" type="success" effect="plain">
        <i class="el-icon-document"></i>
        最大 150 字符
      </el-tag>
    </div>
  </div>
  <!-- 内容 -->
</el-dialog>
```

---

## 🔧 类名说明

支持两个类名（效果相同）：

- **`centered-dialog`**：推荐使用，语义更清晰
- **`test-dialog`**：向后兼容的别名

---

## 📱 移动端适配

样式自动适配移动端：

- **平板（≤768px）**：对话框宽度95%，高度85vh
- **手机（≤480px）**：对话框宽度98%，高度90vh，底部按钮竖向排列

---

## 🎨 滚动条样式

### 浅色模式
- 滚动条宽度：8px
- 滑块颜色：#c1c1c1
- 轨道颜色：#f1f1f1

### 暗色模式
- 滑块颜色：#606060
- 轨道颜色：#383838

---

## ⚠️ 注意事项

1. **浏览器兼容性**：使用了 `:has()` 选择器，需要现代浏览器支持
   - Chrome 105+
   - Safari 15.4+
   - Firefox 121+

2. **对话框高度**：最大高度为 90vh，确保在任何屏幕上都不会溢出

3. **内容滚动**：当内容超出对话框高度时，只在 `el-dialog__body` 内部滚动，Header 和 Footer 保持固定

4. **与其他样式冲突**：此为全局样式，如需自定义，请在组件内使用更高优先级的样式覆盖

---

## 🔄 迁移指南

### 从旧样式迁移

如果你的对话框之前没有使用居中样式，只需：

**步骤1**：添加 `custom-class`
```vue
<!-- 之前 -->
<el-dialog :visible.sync="visible" width="70%">

<!-- 之后 -->
<el-dialog :visible.sync="visible" width="70%" custom-class="centered-dialog">
```

**步骤2**：无需其他修改，样式会自动生效！

---

## 🛠️ 自定义扩展

如需自定义样式，可在组件中添加：

```vue
<style scoped>
/* 覆盖对话框最大高度 */
::v-deep .my-custom-dialog {
  max-height: 80vh !important;
}

/* 自定义滚动条颜色 */
::v-deep .my-custom-dialog .el-dialog__body::-webkit-scrollbar-thumb {
  background: #409EFF !important;
}
</style>
```

---

## 📞 技术支持

如有问题或建议，请联系开发团队。

**文件位置**：
- 样式文件：`poetize-ui/src/assets/css/centered-dialog.css`
- 导入位置：`poetize-ui/src/main.js` 第31行

